webpackJsonp([1],{"1QMf":function(t,e){},KPyq:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=a("VU/8")({name:"App"},l,!1,function(t){a("KPyq")},null,null).exports,o=a("/ocq"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var s=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},r,!1,function(t){a("Ugm9")},"data-v-694cd902",null).exports,c=(a("mvHQ"),a("//Fk")),h=a.n(c),u=(a("hU7x"),a("mtWM")),p=a.n(u),d=new i.default;p.a.defaults.withCredentials=!0,p.a.interceptors.response.use(function(t){return t.data&&t.data.errcode&&40001===parseInt(t.data.errcode)&&d.$emit("goto","/login"),t},function(t){return h.a.reject(t)});var f=void 0;f="https://webx.coocaa.com/hfdplatform",console.log("base = "+f);var g=function(t,e){return p.a.post(""+f+t,e).then(function(t){return t.data})};var m=function(t){return g("/help/queryFeedbackV2",t)},v=function(t){return g("/help/login",t)},b=function(t){return g("/help/checkLogin",t)},_={name:"Home",data:function(){return{alldata:[],alltotal:0,filterdata:[],filtertotal:0,userNameShow:"",hasLogin:!1,refreshButtonDisable:!0,exportButtonDisable:!0,selectDateValue:"",pickerOptions1:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},currentPage:1,pageTotal:1e3,pageSizeSelector:[10,20,50,100,150],currentpageSize:10,filterType:"all",tableData:[],dialogLoginVisible:!1,form:{username:"",password:""},formLabelWidth:"100px"}},beforeCreate:function(){},created:function(){console.log("created()")},mounted:function(){console.log("mounted()");var t=this;setTimeout(function(){t.checkLogin(),t.startupGetData()},2e3)},methods:{checkLogin:function(){console.log("checkLogin()");var t=this;if(!this.hasLogin){b({}).then(function(e){console.log(e),"true"==e.isLogined?(t.userNameShow=e.userName,console.log(t.userNameShow),t.hasLogin=!0,t.dialogLoginVisible=!1):(t.dialogLoginVisible=!0,setTimeout(function(){t.checkLogin()},2e3))},function(e){console.log(e),t.dialogLoginVisible=!0,setTimeout(function(){t.checkLogin()},2e3)}).catch(function(e){console.log(e),t.dialogLoginVisible=!0,setTimeout(function(){t.checkLogin()},2e3)})}},startupGetData:function(){},selectDateValueChange:function(){this.hasLogin?(console.log(this.selectDateValue),this.refreshButtonDisable=!1,this.exportButtonDisable=!1,this.getFeedbackData(this.selectDateValue[0],this.selectDateValue[1])):console.log("not login")},getFeedbackData:function(t,e){var a=this;m({date1:t,date2:e,pageSize:"1",pageNum:"1"}).then(function(t){console.log(t),t&&t.data&&(a.alltotal=t.total,a.alldata=t.data,a.doFilterData(),a.pageTotal=a.filtertotal,a.currentPage=1,a.refreshTableShow())},function(t){console.log(t)}).catch(function(t){console.log(t)})},downloadUrl:function(t){var e=document.createElement("iframe");e.style.display="none",e.src=t,e.onload=function(){document.body.removeChild(e)},document.body.appendChild(e)},refreshTable:function(){this.selectDateValueChange()},exportTable:function(){if(console.log("exportTable"),this.hasLogin){var t,e=this.selectDateValue[0],a=this.selectDateValue[1],i=this.filterType;t="https://webx.coocaa.com/hfdplatform",this.downloadUrl(t+"/help/exportFeedbackV2?date1="+e+"&date2="+a+"&pageSize=1&pageNum=1&filter="+i)}else console.log("not login")},doFilterData:function(){var t,e;for(var a in this.filterdata=[],this.filtertotal=0,e="exist"==this.filterType?function(t){return null!=t&&""!=t}:"none"==this.filterType?function(t){return null==t||""==t}:function(t){return!0},this.alldata)if(e(this.alldata[a].contact)){t=this.filtertotal,this.filtertotal++;var i=new Object;i.id=this.alldata[a].id,i.chip=this.alldata[a].chip,i.model=this.alldata[a].model,i.mac=this.alldata[a].mac,i.activeid=this.alldata[a].activeid,i.sysVersion=this.alldata[a].sysVersion,i.category=this.alldata[a].category,i.title=this.alldata[a].title,i.content=this.alldata[a].content,i.contact=this.alldata[a].contact,i.picurl=this.alldata[a].picurl,i.optTime=this.alldata[a].optTime,i.hasExport=this.alldata[a].hasExport,this.filterdata[t]=i}},refreshTableShow:function(){console.log("refreshTableShow"),this.tableData=[];var t=this.currentPage;t>0&&t--;for(var e=0;e<this.currentpageSize;e++){var a=this.currentpageSize*t;if(a+e<this.filtertotal){var i=new Object;i.id=this.filterdata[a+e].id,i.chip=this.filterdata[a+e].chip,i.model=this.filterdata[a+e].model,i.mac=this.filterdata[a+e].mac,i.activeid=this.filterdata[a+e].activeid,i.sysVersion=this.filterdata[a+e].sysVersion,i.category=this.filterdata[a+e].category,i.contact=this.filterdata[a+e].contact;var l,n=this.filterdata[a+e].optTime.split(" ");i.date=n[0],0==this.filterdata[a+e].hasExport?i.hasExport="否":i.hasExport="是";var o=!1,r=!1;if(null!=this.filterdata[a+e].title&&""!=this.filterdata[a+e].title||(o=!0),null!=this.filterdata[a+e].content&&""!=this.filterdata[a+e].content||(r=!0),l=o&&r?"":o?this.filterdata[a+e].content:r?this.filterdata[a+e].title:this.filterdata[a+e].title+" - "+this.filterdata[a+e].content,i.desc=l,null!=this.filterdata[a+e].picurl&&""!=this.filterdata[a+e].picurl){var s=this.filterdata[a+e].picurl.split(";");i.picList=s}else i.picList=new Array;this.tableData[e]=i}}},handleSizeChange:function(t){console.log("handleSizeChange(): "+t),this.currentpageSize=t,this.refreshTableShow()},handleCurrentChange:function(t){console.log("handleCurrentChange(): "+t),this.currentPage=t,this.refreshTableShow()},userLogin:function(){console.log("userLogin()");var t=this;if(""!=this.form.username&&""!=this.form.password){var e={username:this.form.username,password:this.form.password};v(e).then(function(e){console.log(e),0==e.errcode&&(t.userNameShow=e.userName,console.log(t.userNameShow),t.hasLogin=!0,t.dialogLoginVisible=!1)},function(t){console.log(t)}).catch(function(t){console.log(t)})}},phoneFilterChangeMethod:function(t){console.log(" phoneFilterChange() type = "+t),this.filterType=t,this.doFilterData(),this.pageTotal=this.filtertotal,this.refreshTableShow()},contactRenderHeader:function(t,e){return t("span",[t("span",e.column.label),t("phonefilter",{props:{phoneFilterChangeMethod:this.phoneFilterChangeMethod}})])}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{width:"100%",top:"0px",bottom:"0px",border:"0px",padding:"0px"}},[i("el-header",[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"text-align":"left"}},[i("img",{attrs:{src:a("TrFT")}}),t._v(" "),i("span",{staticStyle:{"font-size":"28px",color:"#ffffff","text-align":"left"}},[t._v("\n               |   学习与反馈平台V2.0\n          ")])])]),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"text-align":"right","font-size":"24px",color:"#ffffff"}},[i("i",{staticClass:"el-icon-star-on"}),t._v(" "),i("span",[t._v(" "+t._s(t.userNameShow)+" ")])])])],1)],1),t._v(" "),i("el-main",[i("div",[i("div",{staticStyle:{"font-size":"18px","text-align":"left"}},[t._v("更多意见与问题反馈")]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"text-align":"left"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy年MM月dd日","value-format":"yyyy-MM-dd","picker-options":t.pickerOptions1},on:{change:function(e){t.selectDateValueChange()}},model:{value:t.selectDateValue,callback:function(e){t.selectDateValue=e},expression:"selectDateValue"}})],1)]),t._v(" "),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"text-align":"right"}},[i("span",[i("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-refresh",disabled:t.refreshButtonDisable},on:{click:t.refreshTable}},[t._v("刷新")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium",icon:"el-icon-document",disabled:t.refreshButtonDisable},on:{click:t.exportTable}},[t._v("导出")])],1)])])],1)],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[i("el-table-column",{attrs:{prop:"date",label:"日期",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"id",label:"问题编号",width:"78"}}),t._v(" "),i("el-table-column",{attrs:{prop:"chip",label:"机芯",width:"66"}}),t._v(" "),i("el-table-column",{attrs:{prop:"model",label:"机型",width:"66"}}),t._v(" "),i("el-table-column",{attrs:{prop:"mac",label:"MAC",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"activeid",label:"激活ID",width:"92"}}),t._v(" "),i("el-table-column",{attrs:{prop:"sysVersion",label:"系统版本",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"category",label:"问题类型",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"desc",label:"问题描述"}}),t._v(" "),i("el-table-column",{attrs:{prop:"picList",label:"图片",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.picList,function(e){return i("span",{staticStyle:{"margin-right":"3px"}},[i("el-popover",{attrs:{placement:"right",title:"",trigger:"hover"}},[i("img",{staticStyle:{"max-width":"800px","max-height":"600px"},attrs:{src:e}}),t._v(" "),i("img",{staticStyle:{width:"40px",height:"40px"},attrs:{slot:"reference",src:e,alt:e},slot:"reference"})])],1)})}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"contact",label:"联系方式",width:"150","render-header":t.contactRenderHeader}}),t._v(" "),i("el-table-column",{attrs:{prop:"hasExport",label:"已导出",width:"70"}})],1)],1),t._v(" "),i("div",{staticStyle:{"margin-top":"5px"}},[i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticStyle:{"text-align":"right"}},[i("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper","current-page":t.currentPage,"page-sizes":t.pageSizeSelector,"page-size":t.currentpageSize,total:t.pageTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"学习与反馈平台v2.0",visible:t.dialogLoginVisible},on:{"update:visible":function(e){t.dialogLoginVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"账户","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.userLogin}},[t._v("登 录")])],1)],1)],1)],1)},staticRenderFns:[]};var w=a("VU/8")(_,y,!1,function(t){a("u2jx")},"data-v-c3316c1a",null).exports,x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{staticStyle:{border:"1px solid"}},[e("el-header",[e("div",{staticClass:"topbar-logos"},[e("img",{attrs:{src:a("TrFT")}})])]),this._v(" "),e("el-main",[this._v("Main\n\n  ")])],1)},staticRenderFns:[]};var k=a("VU/8")({name:"Login",data:function(){return{msg1:"Welcome to Your Vue.js App"}}},x,!1,function(t){a("isjy")},"data-v-97c6b9b8",null).exports;i.default.use(o.a);var S=new o.a({routes:[{path:"/helloworld",name:"HelloWorld",component:s},{path:"/",name:"home",component:w,leaf:!0,menuShow:!0,iconCls:"iconfont icon-home"},{path:"/login",name:"login",component:k,leaf:!0,menuShow:!0,iconCls:"iconfont icon-home"}]}),T=a("zL8q"),C=a.n(T),D=(a("tvR6"),a("lf9d"),{name:"phonefilter",data:function(){return{filtertype:1}},props:{phoneFilterChangeMethod:{type:Function,default:null}},methods:{phoneFilterChange:function(){var t;1==this.filtertype?t="all":2==this.filtertype?t="exist":3==this.filtertype&&(t="none"),null!=this.phoneFilterChangeMethod&&this.phoneFilterChangeMethod(t)}}}),L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[t._v("\n    \n  "),a("el-popover",{attrs:{placement:"right",width:"280",trigger:"click"}},[a("el-radio-group",{on:{change:t.phoneFilterChange},model:{value:t.filtertype,callback:function(e){t.filtertype=e},expression:"filtertype"}},[a("el-radio",{attrs:{label:1}},[t._v("全部")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("有电话")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("无电话")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",size:"small"},slot:"reference"},[t._v("筛选")])],1)],1)},staticRenderFns:[]};var V=a("VU/8")(D,L,!1,function(t){a("1QMf")},"data-v-0ccb35eb",null).exports;i.default.config.productionTip=!1,i.default.use(C.a),i.default.component("phonefilter",V),new i.default({el:"#app",router:S,components:{App:n},template:"<App/>"})},TrFT:function(t,e,a){t.exports=a.p+"static/img/logo1.58902c6.png"},Ugm9:function(t,e){},isjy:function(t,e){},lf9d:function(t,e){},tvR6:function(t,e){},u2jx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9031ba6d3d7bb2b3c65c.js.map